import{q as e,d as w,b as L,E as u,z as r,R as l,A as o,t as c,Y as m,a as d,y as A,w as y,e as U,_ as Y,r as f}from"./index-D2tUv4QS.js";const x={class:"container"},C={class:"navbar"},D={class:"navbar-links"},E={class:"form-container"},G={style:{color:"red"}},V={style:{color:"green"}},q={class:"form-input"},z={class:"game-list"},I={border:"1",cellpadding:"10"},M={class:"errors",style:{color:"red"}},B={__name:"ListAdmin",setup(R){const v=e(""),p=e(""),h=e(""),i=e(""),g=e([]),b=e(""),_=async()=>{var s,a;try{const t=await f.get("/admins");g.value=t.data.admin,console.log(t.data),i.value=""}catch(t){i.value=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||"Gagal mengambil data admins."}},k=async s=>{if(confirm("Yakin ingin menghapus user ini?"))try{await f.delete(`/admins/${s}`),h.value="Admin berhasil dihapus!",i.value="",await fetchUser()}catch(a){i.value="Gagal menghapus admin.",console.error(a)}};return w(_),(s,a)=>{const t=L("router-link");return r(),u("div",x,[l("div",C,[a[7]||(a[7]=l("h1",null,"Admin",-1)),l("div",D,[o(t,{to:"/admins/listusers"},{default:c(()=>a[4]||(a[4]=[m("List Users")])),_:1}),o(t,{to:"/admins"},{default:c(()=>a[5]||(a[5]=[m("List Admins")])),_:1}),o(t,{to:"/"},{default:c(()=>a[6]||(a[6]=[m("Logout")])),_:1})])]),l("div",E,[a[8]||(a[8]=l("h1",null,"Manage Admin",-1)),l("p",G,d(i.value),1),l("p",V,d(h.value),1),l("div",q,[A(l("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>v.value=n),placeholder:"Username"},null,512),[[y,v.value]]),A(l("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>p.value=n),placeholder:"Password"},null,512),[[y,p.value]]),l("button",{onClick:a[2]||(a[2]=(...n)=>s.addAdmin&&s.addAdmin(...n))},"Add Admin")])]),l("div",z,[a[10]||(a[10]=l("h2",null,"Daftar Admin",-1)),l("table",I,[a[9]||(a[9]=l("thead",null,[l("tr",null,[l("th",null,"ID"),l("th",null,"Username"),l("th",null,"Last Login At"),l("th",null,"Aksi")])],-1)),l("tbody",null,[(r(!0),u(U,null,Y(g.value,n=>(r(),u("tr",{key:n.id},[l("td",null,d(n.id),1),l("td",null,d(n.username),1),l("td",null,d(n.created_at),1),l("td",null,[l("button",{onClick:a[3]||(a[3]=$=>k(s.user.id))},"Hapus")])]))),128))])]),l("p",M,d(b.value),1)])])}}};export{B as default};
