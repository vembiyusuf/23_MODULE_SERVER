import{r as a,j as y,c as r,a as e,e as b,t as l,w as c,v,F as _,l as k,h as g,o as d}from"./index-D9qBvNe7.js";import{n as w}from"./navbarAdmin-BWs-Q2Wq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"container"},M={class:"navbar"},D={class:"form-container"},L={style:{color:"red"}},V={style:{color:"green"}},x={class:"form-input"},B={class:"game-list"},C={border:"1",cellpadding:"10"},F={class:"errors",style:{color:"red"}},H={__name:"ListAdmin",setup(G){const i=a(""),u=a(""),m=a(""),o=a(""),p=a([]),h=a(""),A=async()=>{var n,s;try{const t=await g.get("/admins");p.value=t.data.admin,console.log(t.data),o.value=""}catch(t){o.value=((s=(n=t.response)==null?void 0:n.data)==null?void 0:s.message)||"Gagal mengambil data admins."}},f=async n=>{if(confirm("Yakin ingin menghapus user ini?"))try{await g.delete(`/admins/${n}`),m.value="Admin berhasil dihapus!",o.value="",await fetchUser()}catch(s){o.value="Gagal menghapus admin.",console.error(s)}};return y(A),(n,s)=>(d(),r("div",U,[e("div",M,[s[4]||(s[4]=e("h1",null,"Admin",-1)),b(w)]),e("div",D,[s[5]||(s[5]=e("h1",null,"Manage Admin",-1)),e("p",L,l(o.value),1),e("p",V,l(m.value),1),e("div",x,[c(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>i.value=t),placeholder:"Username"},null,512),[[v,i.value]]),c(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t),placeholder:"Password"},null,512),[[v,u.value]]),e("button",{onClick:s[2]||(s[2]=(...t)=>n.addAdmin&&n.addAdmin(...t))},"Add Admin")])]),e("div",B,[s[7]||(s[7]=e("h2",null,"Daftar Admin",-1)),e("table",C,[s[6]||(s[6]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Username"),e("th",null,"Last Login At"),e("th",null,"Aksi")])],-1)),e("tbody",null,[(d(!0),r(_,null,k(p.value,t=>(d(),r("tr",{key:t.id},[e("td",null,l(t.id),1),e("td",null,l(t.username),1),e("td",null,l(t.created_at),1),e("td",null,[e("button",{onClick:s[3]||(s[3]=N=>f(n.user.id))},"Hapus")])]))),128))])]),e("p",F,l(h.value),1)])]))}};export{H as default};
