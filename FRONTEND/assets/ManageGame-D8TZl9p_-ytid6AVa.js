import{q as u,E as m,d as f,z as v,R as a,a as n,y as h,w as y,e as w,_ as C,r as p}from"./index-D2tUv4QS.js";const D={class:"container"},x={class:"form-container"},E={style:{color:"red"}},_={style:{color:"green"}},A={class:"form-input"},M={class:"game-list"},T={border:"1",cellpadding:"10"},U=["onClick"],V=["onClick"],q={class:"errors",style:{color:"red"}},R={__name:"ManageGame",setup(z){const o=u(""),i=u(""),d=u(""),s=u(""),g=u([]),r=u(""),G=async()=>{try{const t=await p.post("/games",{title:o.value,description:i.value});d.value="Game berhasil ditambahkan!",s.value="",o.value="",i.value="",await c(),console.log(t.data)}catch(t){d.value="",s.value="Gagal menambahkan game.",console.error(t)}},c=async()=>{var t,e;try{const l=await p.get("/games");g.value=l.data.content,r.value="",console.log(l.data)}catch(l){r.value=((e=(t=l.response)==null?void 0:t.data)==null?void 0:e.message)||"Gagal mengambil data game."}},k=async t=>{if(confirm("Yakin ingin menghapus game ini?"))try{await p.delete(`/games/${t}`),d.value="Game berhasil dihapus!",s.value="",await c()}catch(e){s.value="Gagal menghapus game.",console.error(e)}};return f(c),(t,e)=>(v(),m("div",D,[a("div",x,[e[2]||(e[2]=a("h1",null,"Manage Game",-1)),a("p",E,n(s.value),1),a("p",_,n(d.value),1),a("div",A,[h(a("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),placeholder:"Title Game"},null,512),[[y,o.value]]),h(a("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),placeholder:"Description Game"},null,512),[[y,i.value]]),a("button",{onClick:G},"Add Game")])]),a("div",M,[e[4]||(e[4]=a("h2",null,"Daftar Game",-1)),a("table",T,[e[3]||(e[3]=a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Title"),a("th",null,"Slug"),a("th",null,"Description"),a("th",null,"Created By"),a("th",null,"Aksi")])],-1)),a("tbody",null,[(v(!0),m(w,null,C(g.value,l=>(v(),m("tr",{key:l.id},[a("td",null,n(l.id),1),a("td",null,n(l.title),1),a("td",null,n(l.slug),1),a("td",null,n(l.description),1),a("td",null,n(l.author),1),a("td",null,[a("button",{onClick:b=>t.editGame(l.id)},"Edit",8,U),a("button",{onClick:b=>k(l.id)},"Hapus",8,V)])]))),128))])]),a("p",q,n(r.value),1)])]))}};export{R as default};
