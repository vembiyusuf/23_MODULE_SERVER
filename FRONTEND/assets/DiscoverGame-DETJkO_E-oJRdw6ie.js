import{q as u,E as d,d as k,z as o,R as a,a as t,y as h,w as g,e as f,_ as w,r as y}from"./index-D2tUv4QS.js";const C={class:"container"},D={class:"form-container"},_={style:{color:"red"}},x={style:{color:"green"}},E={class:"form-input"},T={class:"game-list"},A={border:"1",cellpadding:"10"},S=["onClick"],V=["onClick"],q={class:"errors",style:{color:"red"}},R={__name:"DiscoverGame",setup(z){const r=u(""),c=u(""),m=u(""),i=u(""),p=u([]),s=u(""),v=async()=>{var n,l;try{const e=await y.get("/games");p.value=e.data.content,s.value="",console.log(e.data)}catch(e){s.value=((l=(n=e.response)==null?void 0:n.data)==null?void 0:l.message)||"Gagal mengambil data game."}},G=async n=>{if(confirm("Yakin ingin menghapus game ini?"))try{await y.delete(`/games/${n}`),m.value="Game berhasil dihapus!",i.value="",await v()}catch(l){i.value="Gagal menghapus game.",console.error(l)}};return k(v),(n,l)=>(o(),d("div",C,[a("div",D,[l[3]||(l[3]=a("h1",null,"Manage Game",-1)),a("p",_,t(i.value),1),a("p",x,t(m.value),1),a("div",E,[h(a("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>r.value=e),placeholder:"Title Game"},null,512),[[g,r.value]]),h(a("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),placeholder:"Description Game"},null,512),[[g,c.value]]),a("button",{onClick:l[2]||(l[2]=(...e)=>n.addGame&&n.addGame(...e))},"Add Game")])]),a("div",T,[l[6]||(l[6]=a("h2",null,"Daftar Game",-1)),a("table",A,[l[5]||(l[5]=a("thead",null,[a("tr",null,[a("th",null,"ID"),a("th",null,"Title"),a("th",null,"Score"),a("th",null,"Description"),a("th",null,"Thumbnail"),a("th",null,"Aksi")])],-1)),a("tbody",null,[(o(!0),d(f,null,w(p.value,e=>(o(),d("tr",{key:e.id},[a("td",null,t(e.id),1),a("td",null,t(e.title),1),l[4]||(l[4]=a("td",null,"100",-1)),a("td",null,t(e.description),1),a("td",null,t(e.thumbnail),1),a("td",null,[a("button",{onClick:b=>n.editGame(e.id)},"Edit",8,S),a("button",{onClick:b=>G(e.id)},"Hapus",8,V)])]))),128))])]),a("p",q,t(s.value),1)])]))}};export{R as default};
