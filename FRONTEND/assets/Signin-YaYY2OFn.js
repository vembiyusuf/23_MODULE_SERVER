import{r as a,c as f,a as s,t as _,w as r,v as p,b as k,d as m,e as w,f as x,g as S,h as v,u as y,o as V}from"./index-D9qBvNe7.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"container"},R={class:"form-container"},b={class:"errors"},C={class:"form-input"},N={class:"role-selector"},A={class:"option"},D={__name:"Signin",setup(I){const l=a(""),i=a(""),t=a("user"),u=a(""),d=y(),c=async()=>{try{let n=t.value==="admin"?"admin/signin":"auth/signin";const e=await v.post(n,{username:l.value,password:i.value});localStorage.setItem("token",e.data.token),v.defaults.headers.common.Authorization=`Bearer ${e.data.token}`,t.value==="admin"?d.push("/admins"):d.push("/manage-games")}catch(n){u.value=n.response.data.message}};return(n,e)=>{const g=S("RouterLink");return V(),f("div",U,[s("div",R,[e[8]||(e[8]=s("h2",null,"Signin",-1)),s("p",b,_(u.value),1),s("div",C,[r(s("input",{type:"text",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o)},null,512),[[p,l.value]]),r(s("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=o=>i.value=o)},null,512),[[p,i.value]]),s("div",N,[e[4]||(e[4]=s("label",{for:"role"},"Role:",-1)),r(s("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>t.value=o)},e[3]||(e[3]=[s("option",{value:"user"},"User",-1),s("option",{value:"admin"},"Admin",-1)]),512),[[k,t.value]])]),s("div",A,[e[6]||(e[6]=s("p",null,"Belum punya akun",-1)),e[7]||(e[7]=m()),w(g,{to:"/signup"},{default:x(()=>e[5]||(e[5]=[m("Signup")])),_:1})]),s("button",{onClick:c},"Signin")])])])}}},T=B(D,[["__scopeId","data-v-ca9367e5"]]);export{T as default};
